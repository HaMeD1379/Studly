# apps/backend/.env.example
# -----------------------------------------------------------------------------
# IMPORTANT:
# - Do NOT put real secrets in this file. It is committed to git.
# - Copy this file to `.env` (or `.env.local` if your tooling expects that)
#   and then fill in your real values there.
# - The real `.env` files are git-ignored by default (see repo `.gitignore`).
# -----------------------------------------------------------------------------

# -----------------------------------------------------------------------------
# Backend internal API token
# -----------------------------------------------------------------------------
# Used by backend middleware to protect internal routes via the `x-api-key` header.
# For local development you can keep this simple, but in any shared / deployed
# environment you should generate a stronger, unique secret.
#
# Example usage (HTTP request header):
#   x-api-key: <value-of-INTERNAL_API_TOKEN>
INTERNAL_API_TOKEN=studly-local-token

# -----------------------------------------------------------------------------
# Supabase configuration
# -----------------------------------------------------------------------------
# The backend can either:
#   - Use a mock client (no real Supabase project required), OR
#   - Talk to a real Supabase project using URL + anon key.
#
# For most local dev and for running tests, the mock client is enough.
# Set STUDLY_USE_MOCK=1 and leave the real Supabase vars unset.
#
# When you DO want to use a real Supabase project locally:
#   1. Create a project at https://app.supabase.com/
#   2. Go to Project Settings -> API
#   3. Copy the `Project URL` into SUPABASE_URL
#   4. Copy the `anon public` key into SUPABASE_ANON_KEY
#   5. Set STUDLY_USE_MOCK=0 (or remove it) so the real client is used.

# Use the in-memory/mock implementation (recommended for most local dev)
STUDLY_USE_MOCK=1

# Real Supabase credentials (ONLY needed if you want real auth/db locally).
# Replace the placeholders with values from your Supabase project.
# Uncomment these lines and set STUDLY_USE_MOCK=0 to enable real Supabase.
# SUPABASE_URL=https://your-project-id.supabase.co
# SUPABASE_ANON_KEY=ey-your-anon-key-here

# -----------------------------------------------------------------------------
# Password reset redirect URL (optional)
# -----------------------------------------------------------------------------
# Used by the auth controller when initiating a Supabase password reset flow.
# Set this to your frontend route that can handle reset tokens.
#
# For the default Vite dev server the frontend runs at http://localhost:5173
# and a common pattern is a `/reset-password` route:
# PASSWORD_RESET_REDIRECT_URL=http://localhost:5173/reset-password

# -----------------------------------------------------------------------------
# Server configuration
# -----------------------------------------------------------------------------
# Port that the backend HTTP server will listen on when run directly.
# If unset, the backend will default to 3000.
# PORT=3000
